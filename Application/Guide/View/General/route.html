{include Public/header.html}
<body class="wy-body-for-nav" role="document" xmlns="http://www.w3.org/1999/html">
<div id="nav2">
    <a href="#" id="openToc">
        <img src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAICAgICAgICAgICAgICAgMCAgICAwMDAwMDAwMEAwMDAwMDBAQEBAUEBAQFBQYGBQUHBwcHBwcHBwcHBwcHBwf/2wBDAQICAgMDAwUEBAUHBgUGBwgICAgICAgHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwf/wAARCAArAJoDAREAAhEBAxEB/8QAHgABAAAGAwEAAAAAAAAAAAAAAAQFBgcICQECAwr/xAA/EAAABAQCBgcFBAsBAAAAAAACAwQFAAEGBxESExZRU5XVCBQZIlWi0gkVITFCIzJSchgzQUNUVmFiZYWy1P/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDCEXygIE47JKAmEAgEAgEAgEAgEAgEAgEAgEBBnGBCcEH9kBEAnjAekBusU9DWxoACnKgx8ZqLmMBaWquivZhvLMmXRYy8v+XfRf8AS+A1WwCAQCAQGdrZby3DbbG0T0bRllHB4q2kVb0+r7nV5U1PLz1Jb+4oQCSoW96RJ9AEhOWHMAqXekLHGeMBQHSCoei6doG0FTUxTlDMLpVTpWaN9Mt5UbxUjOpLZxsoW+QFTs4OGQwrrZ2eRYg/e72OAcAxRgL79Hy3Rtwq1EnU0Y51hTrciNMfAoUlQKikYjijOomKJU2ES2WkNLmEEpYSn8Zz+AZwGdrf0V7fuZqhEK0TylGY1uI0xxbddJIKSopvPOSSCodpBRhmI8AA4HTwFjl+c5QGrN/p98pV4XU/UjUuZHtsMCS4NTkUIhSnGIATQhNKHgIM5gEEXx/ZOAk8AgEAgMwujjZygLjMDg51XT/vZanqE9uJO685pcqctKlNADIiVEA++aL6YDNZq6HlkDygzFQoxf7moP8A3wE7/QysZ/IY+M1FzKAzzWtJehF3YDHe4DNiSdkD9AoD5j9aFm/8ofTANaFm/wDKH0wDWhZv/KH0wDWhZv8Ayh9MA1oWb/yh9MBsYJujb8VobCIFlyujsgeGu3y1M8tdxqPfawdkZ46pdzgFDPp9ndC0IZkjAOSc8ZZve0uTIYAQgtz0l7j0s62nsI30rWtrqmXtb3cI16T2taVbCiRAVmU91GalidUaFcmEfoTsDDEwQnZBTLEOQZ4BhbrQs3/lD6YC+Vh7g0vS9VDqer6nPRSbtCiR0sVTDNUJNSFOGkTLkC4x/UJWxuSyLyyOPNmIcgDnMoOYOaQZtvV+LEW/bbdW4emWnzimtFUL5T1Y0q6Uxc9bb55dHw6adaZ1AsinXctWQACkxFIOZJMJcwBEMJQoDWtWFQJk1U1AQxVSGrGgDqo6hUoGwTQFyKmZMUlgWw4OdJI3HGRQviGXwwl8oCm9aFm/8ofTANaFm/8AKH0wDWhZv/KH0wHOtCz+I2/MIMP6fTjjAba/Z9SMe7eVAsOFpNHXytPmy/hamsf0fmgNtzA0l6EPd+iAqn3SVsgJ6eXIYBSywFq6oZOtFmSwgPn3e/ZrX1b3BcS21ZbdwbCVh4W1YqUvaNUelCaLqxylGU1qgJjRg7wiwnmhCLuaUf34Cmx+z0v4GeHvy2nEHrk0B17Pa/vjluOIPfJoB2e1+vG7b8Qe+TwDs9r++OW44g98mgHZ7X98ctxxB75NAOz2v745bjiD3yaAdntfrxu2/EHvk8A7Pa/Xjdt+IPfJ4B2e1+vG7b8Qe+TwDs9r9eN234g98ngHZ7X68btvxB75PAOz2v143bfiD3yeAdntf3xy3HEHvk0BHEezo6QKmeAKgtiH8zk+8kgNrHQv6OlSWHtyqpurXZqeH52qpdUqwTIFQJCkCclSt5KYlSqCQcp+xRhPEIRBXeN0WQeTTDDYU2JpFlBllgJ1hL8MAnLNKAlalFI6QsQwFLqqaLOmLEuAlI6MInP9TAeepabcwDUtNuYBqWm3MA1LTbmAalptzANS025gGpabcwDUtNuYBqWm3MA1LTbmAalptzANTCJfuYCOIpQkuYfs4CpkbSAjLgGAnxQMksID2gEB1FAJylsgOcJbJQDCWyUAwlslAMJbJQDCWyUAwlslAMJbJQDCWyUAwlslAMJbJQDCWyUAwlslAMJbJQDCWyUBzAIBAf/Z" title="切换目录" alt="切换目录" />
    </a>
</div>

<div class="wy-grid-for-nav">
    {include Public/nav.html}

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
            <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
            <a href="../index.html">ppf</a>
        </nav>



        <div class="wy-nav-content">
            <div class="rst-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <ul class="wy-breadcrumbs">
                        <li><a href="/" target="_blank">ppf 中国</a> &raquo; </li>
                        <li><a href="/Guide/Index/index">文档首页</a> &raquo; </li>
                        <li><a href="/Guide/General/index">常规主题</a> &raquo; </li>

                        <li>RUI路由</li>
                        <li class="wy-breadcrumbs-aside">

                        </li>
                        <div style="float:right;">
                            <div style="text-decoration:underline;color:blue;margin-left:5px;cursor:pointer;" id="closeMe">
                                <img title="目录" alt="toc" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
                            </div>
                        </div>
                    </ul>
                    <hr/>
                </div>
                <div role="main" class="document">

                    <div class="section" id="codeigniter">
                        <h1>RUI路由<a class="headerlink" href="#codeigniter" title="永久链接至标题">¶</a></h1>
                        <h2>什么是URI路由？</h2>
                        <p>在电脑术语中，统一资源标识符（Uniform Resource Identifier，或URI)是一个用于标识某一互联网资源名称的字符串。 该种标识允许用户对任何（包括本地和互联网）的资源通过特定的协议进行交互操作。URI由包括确定语法和相关协议的方案所定义。
                            Web上可用的每种资源 -HTML文档、图像、视频片段、程序等 - 由一个通用资源标识符（Uniform Resource Identifier, 简称"URI"）进行定位。
                        </p>
                        <p>ppf 中URI路由 形式可能如下</p>
                        <pre>
                            <code>
    http://jingpeng.blog.com/Guide/General/controller
                            </code>
                        </pre>
                        <ul class="simple">
                            <li>Guide为模块名</li>
                            <li>General为控制器名</li>
                            <li>controller为方法名</li>
                        </ul>
                        <h2>我们如何根据URI来指定到对应的模块－控制器－方法上?</h2>
                        <p>在入口文件index.php中我们有这么一段</p>
                        <pre><code>
    //初始化路由分发 根据request_uri来分发到各个控制器方法
    $dispath = Dispath::init();
                        </code></pre>
                        <p>这里走的就是Dispath的单例方法</p>
                        <p>ppf 通过稍显简单的切割$_SERVER['REQUEST_URI']来获取模块－控制器－方法</p>
                        <pre><code>
    &lt?php
    private final function __construct()
    {
        $url = $_SERVER["REQUEST_URI"];
        $module_controller_action = explode('/',$url);
        //这里加入默认忽略module方式
        if($this::$ignore_module == true && count($module_controller_action) == 3) {
            $module = 'Index';
            $controller = !empty($module_controller_action[1]) ? $module_controller_action[1] : 'Index';
            $action     = !empty($module_controller_action[2]) ? $module_controller_action[2] : 'index';
        }else {
            $module     = !empty($module_controller_action[1]) ? $module_controller_action[1] : 'Index';
            $controller = !empty($module_controller_action[2]) ? $module_controller_action[2] : 'Index';
            $action     = !empty($module_controller_action[3]) ? $module_controller_action[3] : 'index';
        }
        //对action进行过滤
        if(strpos($action,"?") !== false) {
            $actionArr = explode("?",$action);
            $action = $actionArr[0];
        }
        if(strstr($action,".html") || strstr($action,".php")) {
            $actionArr = explode(".",$action);
            $action = $actionArr[0];
        }

        $this::$current_module = $module;
        $this::$current_controller = $controller;
        $this::$current_action = $action;

        //增加自动加载类这个方式加载 controller，model
        spl_autoload_register(array($this, 'loadClass'));
        /*
        *  加载application 下面的所有Controller.php文件 并实例化这个类
        *  并访问其Action方法
        */

        $controller_class_name = $controller."Controller";
        if (!class_exists($controller_class_name)) {
            echo "请检查url中的控制器是否输入正确";die;
        }
        $current_controller = new $controller_class_name();

        $action_class_name = $action."Action";
        $current_controller->$action_class_name();
    }
    ?&gt
                        </code></pre>
                        <div class="admonition note">
                            <p class="first admonition-title">提示</p>
                            <p class="last">这里对window的环境可能不能编译痛过，请尽量选择linux以及unix系统进行测试开发</p>
                        </div>
                    </div>


                </div>
                {include Public/footer.html}
            </div>
        </div>

    </section>

</div>
{include Public/common_js.html}
</body>
<script>
    hljs.initHighlightingOnLoad();
</script>
</html>